"use strict";var ErrQuotation,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},__read=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(i=o.next()).done;)a.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a},__spread=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t};function dh(t){var e=t%8,t=(t-e)/8;return{days:t+=Math.floor(e/8),hours:e%=8}}function undh(t){return 8*t.days+t.hours}function scale(t,e,r,i,n){return(t-e)*(n-i)/(r-e)+i}function is_err(t){return 0<t.length}function quota(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=__read(t,6),i=r[0],n=r[1],o=r[2],a=r[3],s=r[4],u=r[5],r=[];if(i<0&&r.push(ErrQuotation.NotPositive),Math.floor(i)!=i&&r.push(ErrQuotation.NotInteger),r.length)return r;if(0===i)return{num:0,time:dh(0),price:0};n/=i,u=scale.apply(void 0,__spread([n],u)),s=i/o*s*u;return{num:i,time:dh(Math.ceil(a/n*u)),price:s}}function txt(t){return quota(t,45e3,300,56,.65,[0,1,.75,1])}function img(t){return quota(t,10,5,2,5,[0,1,.8,1])}function lst(t){return quota(t,10,5,2,5,[0,1,.9,1])}function tbl(t){return quota(t,4,2,2,4,[0,1,1,1])}!function(t){t[t.NotPositive=1]="NotPositive",t[t.NotInteger=2]="NotInteger"}(ErrQuotation=ErrQuotation||{});var sections=["text","pictures","lists","tables"];function is_section(t){return sections.includes(t)}function is_quotation_summary(t){return void 0!==t.price&&void 0!==t.time}function price(t,e,r,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===i&&(i=0);var n=new Map,t=txt(t);is_err(t)&&n.set("text",t);e=img(e);is_err(e)&&n.set("pictures",e);r=lst(r);is_err(r)&&n.set("lists",r);i=tbl(i);if(is_err(i)&&n.set("tables",i),n.size)return n;var o,a=0,s=0,u={},c={text:t,pictures:e,lists:r,tables:i};for(o in c){var l=o,d=c[l],p=undh(d.time);a+=d.price,s+=p,u[l]=d}return __assign(__assign({},u),{price:a,time:dh(s)})}var twin_summary=new Map([["price-txt","text"],["price-img","pictures"],["price-lst","lists"],["price-tbl","tables"]]),CURRENCY="EUR",$txt=document.getElementById("price-txt"),$img=document.getElementById("price-img"),$lst=document.getElementById("price-lst"),$tbl=document.getElementById("price-tbl"),$total=document.getElementById("price-total"),$time=document.getElementById("time-total");function price_calculate(){var r=price(parseFloat($txt.value),parseFloat($img.value),parseFloat($lst.value),parseFloat($tbl.value));is_quotation_summary(r)&&(document.querySelectorAll("p[data-twin]").forEach(function(t){var e=null===(e=t.dataset)||void 0===e?void 0:e.twin;void 0!==e&&(!twin_summary.has(e)||is_section(e=twin_summary.get(e))&&(e=r[e],t.innerHTML="preÈ› "+e.price.toFixed(2)+" "+CURRENCY+"/timp: "+e.time.days+" zile "+e.time.hours+" ore"))}),$total.innerHTML=r.price.toFixed(2)+" "+CURRENCY,$time.innerHTML=r.time.days+" zile "+r.time.hours+" ore")}[$txt,$img,$lst,$tbl].forEach(function(t){t.addEventListener("input",price_calculate)}),price_calculate();
